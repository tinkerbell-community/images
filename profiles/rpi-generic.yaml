# Raspberry Pi Generic Profile
# This profile builds a Talos image for Raspberry Pi devices

# Imager configuration
imager:
  version: "v1.12.1"
  image: "ghcr.io/siderolabs/imager"

# Architecture and platform
arch: "arm64"
platform: "nocloud"

# Security settings
secureboot: false

# Overlay configuration for Raspberry Pi
overlay:
  name: "rpi_generic"
  image: "ghcr.io/tinkerbell-community/sbc-raspberrypi:9fc24c1"

# System extensions to include in the image
system_extensions:
  - "ghcr.io/siderolabs/iscsi-tools:v0.2.0"
  - "ghcr.io/siderolabs/util-linux-tools:2.41.2"

# Output configuration
output:
  kind: "image"
  disk_format: "raw"
  disk_size: 1306902528  # ~1.25GB in bytes
  compression: "xz"
